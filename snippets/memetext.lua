local font = {
    ["A"] = {
        "  111   ",
        " 11 11  ",
        "11   11 ",
        "11   11 ",
        "1111111 ",
        "11   11 ",
        "11   11 ",
        "11   11 "
    },
    ["B"] = {
        "111111  ",
        "11   11 ",
        "11   11 ",
        "111111  ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "111111  "
    },
    ["C"] = {
        " 111111 ",
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        " 111111 "
    },
    ["D"] = {
        "111111  ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "111111  "
    },
    ["E"] = {
        "1111111 ",
        "11      ",
        "11      ",
        "1111111 ",
        "11      ",
        "11      ",
        "11      ",
        "1111111 "
    },
    ["F"] = {
        "1111111 ",
        "11      ",
        "11      ",
        "1111111 ",
        "11      ",
        "11      ",
        "11      ",
        "11      "
    },
    ["G"] = {
        " 111111 ",
        "11      ",
        "11      ",
        "11  111 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        " 111111 "
    },
    ["H"] = {
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "1111111 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 "
    },
    ["I"] = {
        "  1111  ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "  1111  "
    },
    ["J"] = {
        "    111 ",
        "     11 ",
        "     11 ",
        "     11 ",
        "     11 ",
        "11   11 ",
        "11   11 ",
        " 11111  "
    },
    ["K"] = {
        "11   11 ",
        "11  11  ",
        "11 11   ",
        "1111    ",
        "1111    ",
        "11 11   ",
        "11  11  ",
        "11   11 "
    },
    ["L"] = {
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        "11      ",
        "1111111 "
    },
    ["M"] = {
        "11   11 ",
        "111 111 ",
        "11 1 11 ",
        "11 1 11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 "
    },
    ["N"] = {
        "11   11 ",
        "111  11 ",
        "111  11 ",
        "11 1 11 ",
        "11  111 ",
        "11  111 ",
        "11   11 ",
        "11   11 "
    },
    ["O"] = {
        " 11111  ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        " 11111  "
    },
    ["P"] = {
        "111111  ",
        "11   11 ",
        "11   11 ",
        "111111  ",
        "11      ",
        "11      ",
        "11      ",
        "11      "
    },
    ["Q"] = {
        " 11111  ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11 1 11 ",
        "11  11  ",
        " 111 11 "
    },
    ["R"] = {
        "111111  ",
        "11   11 ",
        "11   11 ",
        "111111  ",
        "111 11  ",
        "11  11  ",
        "11   11 ",
        "11   11 "
    },
    ["S"] = {
        " 111111 ",
        "11      ",
        "11      ",
        " 11111  ",
        "     11 ",
        "     11 ",
        "     11 ",
        "111111  "
    },
    ["T"] = {
        "1111111 ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   "
    },
    ["U"] = {
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        " 11111  "
    },
    ["V"] = {
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        " 11 11  ",
        " 11 11  ",
        " 11 11  ",
        "  111   "
    },
    ["W"] = {
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11   11 ",
        "11 1 11 ",
        "11 1 11 ",
        "11 1 11 ",
        " 11 11  "
    },
    ["X"] = {
        "11   11 ",
        " 11 11  ",
        " 11 11  ",
        "  111   ",
        "  111   ",
        " 11 11  ",
        "11   11 ",
        "11   11 "
    },
    ["Y"] = {
        "11   11 ",
        " 11 11  ",
        " 11 11  ",
        "  111   ",
        "   11   ",
        "   11   ",
        "   11   ",
        "   11   "
    },
    ["Z"] = {
        "1111111 ",
        "     11 ",
        "    11  ",
        "   11   ",
        "  11    ",
        " 11     ",
        "11      ",
        "1111111 "
    }
}

local id = 6000

local function spawnStatic(x, y)
    local staticObj = {
        ["heading"] = 0,
        ["shape_name"] = "Comp_cone", -- H-tyre_W, H-tyre_B, Comp_cone
        ["type"] = "Airshow_Cone",    -- White_Tyre, Black_Tyre, Airshow_Cone
        ["name"] = "meme-" .. id,
        ["category"] = "Fortifications",
        ["x"] = x,
        ["y"] = y,
        ["unitId"] = id,
        ["groupId"] = id,
    }
    coalition.addStaticObject(country.id.USA, staticObj)
    id = id + 1
end

local function memetext(str, x, y, dist)
    for i = 1, #str do
        local c = str:sub(i, i):upper()
        local start_x = x + (i - 1) * dist * 8
        local start_y = y
        if font[c] then
            for j = 1, #font[c] do
                local line = font[c][j]
                for k = 1, #line do
                    if line:sub(k, k) == "1" then
                        local char_x = start_x + (k - 1) * dist
                        local char_y = start_y + (j - 1) * dist
                        spawnStatic(char_x, char_y)
                    end
                end
            end
            x = x + 9
        end
    end
end

return memetext
